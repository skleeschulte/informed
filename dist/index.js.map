{"version":3,"sources":["webpack://informed/webpack/universalModuleDefinition","webpack://informed/webpack/bootstrap","webpack://informed/./node_modules/node-libs-browser/node_modules/process/browser.js","webpack://informed/./src/debug.js","webpack://informed/./src/Context.js","webpack://informed/./src/ObjectMap.js","webpack://informed/./src/FormController.js","webpack://informed/./src/hooks/useForm.js","webpack://informed/./src/utils/isReactNative.js","webpack://informed/./src/components/Form.js","webpack://informed/./src/hooks/useFormApi.js","webpack://informed/./src/hooks/useFormState.js","webpack://informed/./src/components/Scope.js","webpack://informed/./src/components/ArrayField.js","webpack://informed/./src/components/FormProvider.js","webpack://informed/./src/HOC/withFormApi.js","webpack://informed/./src/HOC/withFormState.js","webpack://informed/./src/hooks/useFieldApi.js","webpack://informed/./src/hooks/useFieldState.js","webpack://informed/./src/HOC/withFieldState.js","webpack://informed/./src/HOC/withFieldApi.js","webpack://informed/./src/HOC/withRadioGroup.js","webpack://informed/./src/hooks/useField.js","webpack://informed/./src/HOC/asField.js","webpack://informed/./src/components/form-fields/Text.js","webpack://informed/./src/components/form-fields/Radio.js","webpack://informed/./src/components/form-fields/TextArea.js","webpack://informed/./src/components/form-fields/Select.js","webpack://informed/./src/components/form-fields/Option.js","webpack://informed/./src/components/form-fields/Checkbox.js","webpack://informed/./src/components/form-fields/RadioGroup.js","webpack://informed/./src/index.js","webpack://informed/external \"events\"","webpack://informed/external \"lodash/get\"","webpack://informed/external \"lodash/has\"","webpack://informed/external \"lodash/pull\"","webpack://informed/external \"lodash/pullAt\"","webpack://informed/external \"lodash/setWith\"","webpack://informed/external \"lodash/toPath\"","webpack://informed/external \"lodash/unset\"","webpack://informed/external \"lodash/values\"","webpack://informed/external \"react\""],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","formatNodeArgs","config","namespace","useColors","color","prefix","split","join","formatBrowserArgs","index","lastC","replace","match","splice","browserColors","createLogger","undefined","_len","_key","unshift","namespaces","map","RegExp","slice","some","regex","test","colors","hash","charCodeAt","Math","abs","selectColor","type","__nwjs","localStorage","getItem","error","DEBUG","formatArgs","loadBrowser","FormRegisterContext","React","createContext","register","deregister","setValue","setTouched","setError","update","getField","FormStateContext","FormApiContext","getFullField","getValues","GroupContext","debug","Debug","pathToArrayElem","path","pathArray","ldtoPath","Number","isInteger","cleanup","obj","pull","ldget","isArray","ldpull","every","JSON","stringify","ldunset","ObjectMap","ldvalues","ldhas","ldset","delete","arr","ldpullAt","FormController","_this","options","FormController_classCallCheck","_getPrototypeOf","fields","Map","registered","state","values","touched","errors","pristine","dirty","invalid","submits","_assertThisInitialized","setFormError","submitForm","reset","validate","keyDown","updater","EventEmitter","_objectSpread","_this2","field","fieldApi","allowEmptyString","allowEmptyStrings","setValues","getValue","getTouched","getError","getState","getFormState","fieldExists","getInitialValue","notify","set","_this3","notifier","forEach","fieldName","toNotify","empty","initialValues","_this4","initialValue","getFormApi","_this5","_this6","res","validateFields","has","keyCode","preventEnter","preventDefault","dontPreventDefault","valid","fieldState","fieldStuff","keepState","useForm","_ref","getApi","onChange","onSubmit","onValueChange","onSubmitFailure","formController","_slicedToArray","useState","_useState4","formState","setFormState","formApi","isReactNative","navigator","product","Form","children","render","component","rest","_objectWithoutProperties","content","_useForm","getContent","props","createElement","external_react_default","a","Provider","Children","count","Fragment","_extends","onReset","onKeyDown","useFormApi","useContext","useFormState","buildScopedFormApi","scope","Scope_objectSpread","Scope","formRegister","scopedFormApi","useMemo","scopedRegister","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","buildScopedRegister","uuidv4","random","toString","ArrayField","initialKeys","_useState2","ArrayField_slicedToArray","keys","setKeys","remove","newKeys","add","_toConsumableArray","FormProvider","FormProvider_objectWithoutProperties","FormProvider_extends","withFormApi","Component","forwardRef","ref","Consumer","withFormApi_extends","withFormState","withFormState_extends","buildFieldApi","useFieldApi","buildFieldState","useFieldState","withFieldState","withFieldState_extends","withFieldApi","withFieldApi_extends","withRadioGroup","radioGroupApi","radioGroupState","withRadioGroup_extends","logger","useStateWithGetter","initial","useRef","useField_slicedToArray","setState","current","useField","fieldProps","mask","format","parse","validateOnChange","validateOnBlur","validateOnMount","maskOnBlur","maintainCursor","_useStateWithGetter2","setVal","getVal","setErr","_useState6","setTouch","_useStateWithGetter4","setCursor","getCursor","_useState8","maskedValue","setMaskedValue","val","maskedVal","target","selectionStart","fullField","useEffect","useLayoutEffect","selectionEnd","style","border","borderWidth","borderStyle","borderColor","borderImage","shouldUpdate","useField_toConsumableArray","purify","userprops","asField","asField_objectWithoutProperties","_useField","asField_extends","forwardedRef","Text","Text_objectWithoutProperties","onBlur","background","Text_extends","Radio","Radio_objectWithoutProperties","groupValue","groupOnChange","groupOnBlur","Radio_extends","checked","TextArea","TextArea_objectWithoutProperties","TextArea_extends","Select","Select_classCallCheck","Select_getPrototypeOf","handleChange","Select_assertThisInitialized","selectRef","createRef","selected","Select_toConsumableArray","filter","option","multiple","_this$props","Select_objectWithoutProperties","Select_extends","Option","Option_objectWithoutProperties","Option_extends","Checkbox","Checkbox_objectWithoutProperties","Checkbox_extends","RadioGroup","groupContext","RadioGroup_objectSpread","__webpack_exports__","components_Form","components_FormProvider","HOC_withFormApi","HOC_withFormState","HOC_withFieldApi","HOC_withFieldState","HOC_withRadioGroup","HOC_asField","hooks_useForm","hooks_useField","hooks_useFieldApi","hooks_useFieldState","hooks_useFormApi","hooks_useFormState","form_fields_Text","form_fields_Radio","form_fields_TextArea","form_fields_Select","form_fields_Option","form_fields_Checkbox","form_fields_RadioGroup","Text_Text","Radio_Radio","RadioGroup_RadioGroup","TextArea_TextArea","Select_Select","Checkbox_Checkbox","components_Scope","components_ArrayField","require"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"informed\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"informed\"] = factory();\n\telse\n\t\troot[\"informed\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * \n * I stole most of this code from the debug lib\n * https://github.com/visionmedia/debug\n * \n * Just wanted it to be easy to debug without relying on the dependency!\n */\n\n\n/**\n\t* Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @param {String} colors color pallette to choose from\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\nfunction selectColor(namespace, colors) {\n  let hash = 0;\n\n  for (let i = 0; i < namespace.length; i++) {\n    hash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return colors[Math.abs(hash) % colors.length];\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatNodeArgs(args, config) {\n\n  const name = config.namespace;\n\n  if (config.useColors) {\n    const c = config.color;\n    const colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n    const prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n  } else {\n    args[0] = name + ' ' + args[0];\n  }\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n */\n\nfunction formatBrowserArgs(args, config) {\n\n  args[0] = (config.useColors ? '%c' : '') + config.namespace;\n\n  if (!config.useColors) {\n    return;\n  }\n\n  const c = 'color: ' + config.color;\n\n  // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  let index = 0;\n  let lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, match => {\n    if (match === '%%') {\n      return;\n    }\n    index++;\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n\nconst browserColors = [\n  '#0000CC',\n  '#0000FF',\n  '#0033CC',\n  '#0033FF',\n  '#0066CC',\n  '#0066FF',\n  '#0099CC',\n  '#0099FF',\n  '#00CC00',\n  '#00CC33',\n  '#00CC66',\n  '#00CC99',\n  '#00CCCC',\n  '#00CCFF',\n  '#3300CC',\n  '#3300FF',\n  '#3333CC',\n  '#3333FF',\n  '#3366CC',\n  '#3366FF',\n  '#3399CC',\n  '#3399FF',\n  '#33CC00',\n  '#33CC33',\n  '#33CC66',\n  '#33CC99',\n  '#33CCCC',\n  '#33CCFF',\n  '#6600CC',\n  '#6600FF',\n  '#6633CC',\n  '#6633FF',\n  '#66CC00',\n  '#66CC33',\n  '#9900CC',\n  '#9900FF',\n  '#9933CC',\n  '#9933FF',\n  '#99CC00',\n  '#99CC33',\n  '#CC0000',\n  '#CC0033',\n  '#CC0066',\n  '#CC0099',\n  '#CC00CC',\n  '#CC00FF',\n  '#CC3300',\n  '#CC3333',\n  '#CC3366',\n  '#CC3399',\n  '#CC33CC',\n  '#CC33FF',\n  '#CC6600',\n  '#CC6633',\n  '#CC9900',\n  '#CC9933',\n  '#CCCC00',\n  '#CCCC33',\n  '#FF0000',\n  '#FF0033',\n  '#FF0066',\n  '#FF0099',\n  '#FF00CC',\n  '#FF00FF',\n  '#FF3300',\n  '#FF3333',\n  '#FF3366',\n  '#FF3399',\n  '#FF33CC',\n  '#FF33FF',\n  '#FF6600',\n  '#FF6633',\n  '#FF9900',\n  '#FF9933',\n  '#FFCC00',\n  '#FFCC33'\n];\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the debug modes\n * @api private\n */\nfunction loadBrowser() {\n  let namespaces;\n  try {\n    namespaces = localStorage.getItem('debug');\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!namespaces && typeof process !== 'undefined' && 'env' in process) {\n    namespaces = process.env.DEBUG;\n  }\n\n  return { \n    namespaces: namespaces || '', \n    colors: browserColors,\n    useColors: true,\n    formatArgs: formatBrowserArgs\n  };\n} \n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the debug modes\n * @api private\n */\nfunction loadNode() {\n  return { \n    namespaces: process.env.DEBUG || '',\n    colors: [6, 2, 3, 4, 5, 1], \n    useColors: true, \n    formatArgs: formatNodeArgs\n  };\n}\n\n\nfunction createLogger(prefix = null, config) {\n  return function(...args) {\n\n    if (prefix){\n      args.unshift(prefix);\n    }\n\n    // Create a namespace regex for each namespace\n    const matches = config.namespaces.split(',').map(( namespace )=>{\n      // Remove wildcard and add to regex if wildcard\n      if( namespace[namespace.length - 1] === '*' ){\n        return new RegExp('^' + namespace.slice(0, namespace.length-1) + '.*' + '$');\n      }\n      return new RegExp('^' + namespace + '$');\n    });\n    \n    // Does the prefix match a namespace\n    const match = matches.some((regex)=>{\n      return regex.test(prefix);\n    });\n\n    const conf = {\n      color: selectColor( prefix, config.colors ),\n      namespace: prefix, \n      useColors: config.useColors\n    };\n\n    if (process.env.NODE_ENV !== 'production' && match ) {\n      config.formatArgs(args, conf);\n      console.log(...args);\n    }\n  };\n}\n\nfunction nodeLogger(prefix) {\n  return createLogger(prefix, loadNode());\n}\n\nfunction browserLogger(prefix) {\n  return createLogger(prefix, loadBrowser());\n}\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = browserLogger;\n} else {\n  module.exports = nodeLogger;\n}","import React from 'react';\n\nconst FormRegisterContext = React.createContext({\n  register: () => {},\n  deregister: () => {},\n  setValue: () => {},\n  setTouched: () => {}, \n  setError: () => {},\n  update: () => {}, \n  getField: () => {}\n});\n\nconst FormStateContext = React.createContext({});\nconst FormApiContext = React.createContext({\n  getFullField: () => {},\n  getValues: () => {},\n});\nconst GroupContext = React.createContext();\nconst SelectContext = React.createContext();\n\nexport { FormRegisterContext, FormStateContext, FormApiContext, GroupContext, SelectContext };\n","import ldset from 'lodash/setWith';\nimport ldunset from 'lodash/unset';\nimport ldtoPath from 'lodash/toPath';\nimport ldget from 'lodash/get';\nimport ldhas from 'lodash/has';\nimport ldvalues from 'lodash/values';\nimport ldpullAt from 'lodash/pullAt';\nimport ldpull from 'lodash/pull';\nimport Debug from './debug';\nconst debug = Debug('informed:ObjMap' + '\\t');\n\nconst pathToArrayElem = (path) => {\n  const pathArray = ldtoPath(path);\n  return Number.isInteger(+pathArray[pathArray.length-1]);\n};\n\nclass ObjectMap {\n  static empty(object) {\n    return ldvalues(object).length === 0;\n  }\n\n  static get(object, path) {\n    return ldget(object, path);\n  }\n\n  static has(object, path) {\n    return ldhas(object, path);\n  }\n\n  static set(object, path, value) {\n    if( value !== undefined ){\n      ldset(object, path, value);\n    } else {\n      // If the path is to an array leaf then we want to set to undefined\n      if( pathToArrayElem(path) && ObjectMap.get(object, path) !== undefined ) {\n        ldset(object, path, undefined);\n        let pathArray = ldtoPath(path);\n        pathArray = pathArray.slice(0, pathArray.length - 1);\n        cleanup(object, pathArray, false);\n      }\n      // Only delete the field if it needs to be deleted and its not a path to an array ( array leaf )\n      else if( !pathToArrayElem(path) && ObjectMap.get(object, path) !== undefined ) ObjectMap.delete(object, path);\n    }\n  }\n\n  static delete(object, path) {\n    debug('DELETE', path);\n    ldunset(object, path);\n    let pathArray = ldtoPath(path);\n    pathArray = pathArray.slice(0, pathArray.length - 1);\n    cleanup(object, pathArray);\n  }\n\n  static pullOut(object, path, index) {\n    // Get the path to the array\n    let pathArray = ldtoPath(path);\n    pathArray = pathArray.slice(0, pathArray.length - 1).join();\n    debug('PathArray', pathArray);\n    // Get the array\n    const arr = ldget(object, pathArray);\n    debug('Array', arr);\n    // Pull out of array\n    ldpullAt(arr, index);\n  }\n}\n\nfunction cleanup(obj, path, pull = true) {\n  // Base case no path left\n  if (path.length === 0) {\n    return;\n  }\n\n  const object = ldget(obj, path);\n\n  // Clean up undefined from array\n  if (Array.isArray(object) && pull) {\n    ldpull(object, undefined);\n  }\n\n  // Delete object if its empty\n  if (\n    Array.isArray(object)\n      ? object.every(e => e == null)\n      : JSON.stringify(object) === '{}'\n  ) {\n    ldunset(obj, path);\n  }\n  // Recur\n  cleanup(obj, path.slice(0, path.length - 1));\n}\n\nexport default ObjectMap;\n","import ObjectMap from './ObjectMap';\nimport { EventEmitter } from 'events';\nimport Debug from './debug';\nconst debug = Debug('informed:Controller'+'\\t');\n\nclass FormController extends EventEmitter {\n\n\n  constructor(options = {}) {\n\n    // Dont forget to call super! :)\n    super();\n\n    this.options = options;\n\n    // Map will store all fields\n    // Key => fieldName - example: \"foo.bar[3].baz\"\n    // Val => { field, fieldApi }\n    // Why? so the form can control the fields!\n    this.fields = new Map();\n\n    // Map to store if the field was once registered\n    this.registered = {};\n\n    // Initialize the controller state\n    this.state = {\n      values: {},\n      touched: {},\n      errors: {},\n      pristine: true,\n      dirty: false,\n      invalid: false,\n      submits: 0\n    };\n\n    // Bind functions that will be called externally\n    //this.update = this.update.bind(this);\n    this.deregister = this.deregister.bind(this);\n    this.register = this.register.bind(this);\n    this.setValue = this.setValue.bind(this);\n    this.setTouched = this.setTouched.bind(this);\n    this.setError = this.setError.bind(this);\n    this.setFormError = this.setFormError.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.reset = this.reset.bind(this);\n    this.update = this.update.bind(this);\n    this.validate = this.validate.bind(this);\n    this.keyDown = this.keyDown.bind(this);\n    this.getField = this.getField.bind(this);\n\n    // Updater will be used by fields to update and register\n    this.updater = {\n      register: this.register,\n      deregister: this.deregister,\n      setValue: this.setValue, \n      setTouched: this.setTouched, \n      setError: this.setError,\n      update: this.update,\n      getField: this.getField\n    };\n  }\n\n  // Generate the external form state that will be exposed to the users\n  getFormState() {\n    return {\n      ...this.state, \n      pristine: this.pristine(),\n      dirty: this.dirty(),\n      invalid: this.invalid()\n    };\n  }\n\n  // Generate the external form api that will be exposed to the users\n  getFormApi() {\n    const setValue = (field, value) =>\n      this.fields.get(field).fieldApi.setValue(value, null, {\n        allowEmptyString: this.options.allowEmptyStrings\n      });\n\n    const setTouched = (field, value) =>\n      this.fields.get(field).fieldApi.setTouched(value);\n\n    const setError = (field, value) =>\n      this.fields.get(field).fieldApi.setError(value);\n\n    const setFormError = ( error ) => this.setFormError(error);\n\n    const setValues = values => this.setValues(values);\n\n    const getValue = (field) => this.getValue(field);\n\n    const getTouched = (field) => this.getTouched(field);\n    \n    const getError = (field) => this.getError(field);\n\n    const reset = () => this.reset();\n\n    const submitForm = e => this.submitForm(e);\n\n    const getState = () => this.getFormState();\n\n    const getValues = () => this.getFormState().values;\n\n    const getFullField = field => this.getFullField(field);\n\n    const fieldExists = field => this.fields.get(field) != null;\n\n    const getInitialValue = field => this.getInitialValue(field);\n\n    const validate = () => this.validate();\n\n    return {\n      setValue,\n      setTouched,\n      setError,\n      setValues,\n      getValue,\n      getTouched,\n      getError,\n      reset,\n      submitForm,\n      getState,\n      getValues,\n      getFullField,\n      fieldExists,\n      getInitialValue,\n      setFormError,\n      validate\n    };\n  }\n\n  /* ------------------- Internal Methods ------------------- */\n\n  setValue(field, value, notify = true) {\n    debug(`Setting ${field} to ${value}`);\n    // Set the new value\n    ObjectMap.set(this.state.values, field, value);\n    // The forms values have changed so we want to clear form level error\n    delete this.state.error;\n    // Emit change events\n    this.emit('change');\n    this.emit('value');\n    // Notify other fields \n    if( notify ) this.notify(field);\n  }\n\n  setTouched(field, value) {\n    ObjectMap.set(this.state.touched, field, value);\n    this.emit('change');\n  }\n\n  setError(field, value) {\n    ObjectMap.set(this.state.errors, field, value);\n    this.emit('change');\n  }\n\n  setFormError(value){\n    this.state.error = value;\n    this.emit('change');\n  }\n\n  // Notify other fields \n  notify( field ) {\n    // Get the notifier\n    const notifier =  this.fields.get(field);\n    // If we have a list we must notify each one\n    if( notifier.notify ){\n      notifier.notify.forEach( fieldName =>{\n        // Get the field toNotify\n        const toNotify =  this.fields.get(fieldName);\n        if( toNotify ){\n          debug('Notifying', toNotify.field);\n          const value = this.getValue(toNotify.field);\n          toNotify.fieldApi.validate(value);\n        }\n      });\n    }\n  }\n\n  getValue(field) {\n    return ObjectMap.get(this.state.values, field);\n  }\n\n  getTouched(field) {\n    return ObjectMap.get(this.state.touched, field);\n  }\n\n  getError(field) {\n    return ObjectMap.get(this.state.errors, field);\n  }\n\n  getFullField(field) { \n    return field;\n  }\n\n  valid(){\n    return !!(ObjectMap.empty(this.state.errors) && !this.state.error);\n  }\n\n  invalid() {\n    return !!(!ObjectMap.empty(this.state.errors) || this.state.error);\n  }\n\n  pristine() {\n    return ObjectMap.empty(this.state.touched) && ObjectMap.empty(this.state.values);\n  }\n\n  dirty() {\n    return !this.pristine();\n  }\n\n  getInitialValue( field ){\n    return ObjectMap.get(this.options.initialValues, field);\n  }\n\n  reset() {\n    debug('Resetting');\n    // So we because all fields controll themselves and, \"inform\", this controller\n    // of their changes, we need to literally itterate through all registered fields\n    // and reset them. Not a big deal but very important to remember that you cant simply\n    // reset this controllers state!\n    this.fields.forEach(( field )=>{\n      field.fieldApi.reset();\n      // Initialize the values if it needs to be\n      const initialValue = ObjectMap.get(this.options.initialValues, field.field);\n      if( initialValue !== undefined ){\n        this.getFormApi().setValue( field.field, initialValue );\n      } \n    });\n\n    this.emit('change');\n  }\n\n  setValues(values){\n    debug('Setting values');\n    // So we because all fields controll themselves and, \"inform\", this controller\n    // of their changes, we need to literally itterate through all registered fields\n    // and set them. Not a big deal but very important to remember that you cant simply\n    // set this controllers state!\n    this.fields.forEach(( field )=>{\n      // Initialize the values if it needs to be\n      const value = ObjectMap.get(values, field.field);\n      if( value !== undefined ){\n        this.getFormApi().setValue( field.field, value );\n      } \n    });\n\n    this.emit('change');\n  }\n\n  validate() {\n    // Itterate through and call validate on every field\n    this.fields.forEach(( field, key )=>{\n      const value = this.getValue(key);\n      field.fieldApi.validate(value);\n      field.fieldApi.setTouched(true);\n    });\n    \n    // Call the form level validation if its present\n    if( this.options.validate ){\n      const res = this.options.validate( this.state.values );\n      this.setFormError(res);\n    }\n    \n    // Call the forms field level validation\n    if( this.options.validateFields ){\n      const errors = this.options.validateFields( this.state.values );\n      // So we because all fields controll themselves and, \"inform\", this controller\n      // of their changes, we need to literally itterate through all registered fields\n      // and set them. Not a big deal but very important to remember that you cant simply\n      // set this controllers state!\n      this.fields.forEach(( field )=>{\n        // Check to see if there is an error to set \n        // Note: we use has becuause value may be there but undefined\n        if( ObjectMap.has(errors, field.field ) ){\n          const error = ObjectMap.get(errors, field.field);\n          // If there is an error then set it\n          this.getFormApi().setError( field.field, error );\n        } \n      });\n    \n    }\n  }\n\n  keyDown(e) {\n    // If preventEnter then return\n    if( e.keyCode == 13 && this.options.preventEnter ){\n      e.preventDefault(e);\n      return false;\n    }\n  }\n\n  submitForm(e) {\n\n    // Incriment number of submit attempts\n    this.state.submits = this.state.submits + 1;\n\n    if( !this.options.dontPreventDefault && e ){\n      // Prevent default browser form submission\n      e.preventDefault(e);\n    }\n\n    // Validate the form\n    this.validate();\n\n    // Emit a change \n    this.emit('change');\n\n    // Check validity and perform submission if valid\n    if( this.valid() ){\n      debug('Submit', this.state);\n      this.emit('submit');\n    } else {\n      debug('Submit', this.state);\n      this.emit('failure');\n    }\n  }\n\n  /* ---------------- Updater Functions (used by fields) ---------------- */\n\n  register(field, fieldState, fieldStuff) {\n    debug('Register', field, fieldState);\n    // Determine if the field has been registered before\n    const registered = this.registered[field];\n    // Set registered flag\n    this.registered[field] = true;\n    // Always register the field\n    this.fields.set(field, fieldStuff);\n    // Initialize state\n    // When a user had keep state load existing values\n    if( fieldStuff.keepState ){\n      const value = ObjectMap.get(this.state.values, field);\n      const initialValue = ObjectMap.get(this.options.initialValues, field);\n      // If we have a defined value then set that\n      if( value !== undefined ) {\n        this.getFormApi().setValue( field, value || fieldState.value );\n      }\n      // Otherwise we want to use the initial value \n      else if( initialValue !== undefined ){\n        this.getFormApi().setValue( field, initialValue );\n      } else { \n        // Otherwise set the value to whatever the field is set to ( might have been field level initial value )\n        this.setValue(field, fieldState.value, false);\n      }\n      // Finnally we set touched\n      const touched = ObjectMap.get(this.state.touched, field);\n      this.getFormApi().setTouched( field, touched );\n      // Error will get set by validator implicitly so we dont need to remember that\n    } else {\n      // Initialize the values if it needs to be\n      const initialValue = ObjectMap.get(this.options.initialValues, field);\n      if( initialValue !== undefined && !registered ){\n        this.getFormApi().setValue( field, initialValue );\n      } else { \n        // Otherwise set the value to whatever the field is set to ( might have been field level initial value )\n        this.setValue(field, fieldState.value, false);\n      }\n      this.setTouched(field, fieldState.touched);\n    }\n    this.setError(field, fieldState.error);\n\n  }\n\n  deregister(field) {\n    debug('Deregister', field);\n    const field2remove = this.fields.get(field);\n    if(!field2remove.keepState){\n      // Remove the data!\n      ObjectMap.delete(this.state.values, field);\n      ObjectMap.delete(this.state.touched, field);\n      ObjectMap.delete(this.state.errors, field);\n    }\n    // Always need to delete the field\n    this.fields.delete(field);\n    this.emit('change');\n  }\n\n  update(field, fieldStuff) {\n    debug('Update', field);\n    this.fields.set(field, fieldStuff);\n  }\n\n  getField(field){\n    debug('Getting Field', field);\n    return this.fields.get(field);\n  }\n}\n\nexport default FormController;\n","import React, { useState } from 'react';\nimport Debug from '../debug';\nimport FormController from '../FormController';\n\nconst debug = Debug('informed:useForm' + '\\t\\t');\n\nconst useForm = ({\n  dontPreventDefault,\n  initialValues,\n  validate,\n  validateFields,\n  allowEmptyStrings,\n  preventEnter,\n  getApi,\n  onChange,\n  onSubmit,\n  onValueChange, \n  onSubmitFailure\n}) => {\n\n  debug('Render useForm');\n\n  // Create form controller\n  const [ formController ] = useState(new FormController({\n    dontPreventDefault, \n    initialValues,\n    validate,\n    validateFields,\n    allowEmptyStrings,\n    preventEnter,\n  }));\n\n  // Form state will be used to trigger rerenders\n  const [ formState, setFormState ] = useState( formController.getFormState() );\n\n  // Initialize form stuff ( hack for constructor code muhahaha )\n  useState(()=>{\n\n    // Update the form state to trigger rerender!\n    formController.on('change', () => {\n      setFormState( formController.getFormState() );\n    });\n\n    // Register for events\n    formController.on('change', () => onChange && onChange( formController.getFormState() ));\n    formController.on('submit', () => onSubmit && onSubmit( formController.getFormState().values ) );\n    formController.on('value', () => onValueChange && onValueChange( formController.getFormState().values ) );\n    formController.on('failure', () => onSubmitFailure && onSubmitFailure( formController.getFormState().errors ) );\n\n    // Give access to api outside\n    if (getApi) {\n      getApi(formController.getFormApi());\n    }\n  });\n\n  // We dont want this to happen on every render so thats why useState is used here\n  const [ formApi ] = useState( formController.getFormApi() );\n\n  return { formApi, formState, formController };\n};\n\nexport default useForm;","const isReactNative = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nexport default isReactNative;\n","import React from 'react';\nimport { FormStateContext, FormApiContext, FormRegisterContext } from '../Context';\nimport Debug from '../debug';\nimport useForm from '../hooks/useForm';\nimport isReactNative from '../utils/isReactNative';\n\nconst debug = Debug('informed:Form' + '\\t\\t');\n\nconst Form = ({ \n  children, \n  getApi, \n  onChange, \n  onSubmit, \n  onValueChange, \n  initialValues,\n  onSubmitFailure,\n  render,\n  validate,\n  validateFields,\n  component,\n  preventEnter,\n  dontPreventDefault,\n  allowEmptyStrings,\n  ...rest }) => {\n\n  debug('Render FORM');\n\n  const { \n    formApi, \n    formController,\n    formState \n  } = useForm({\n    dontPreventDefault,\n    initialValues,\n    validate,\n    validateFields,\n    allowEmptyStrings,\n    preventEnter,\n    getApi,\n    onChange,\n    onSubmit,\n    onValueChange, \n    onSubmitFailure\n  });\n    \n  const getContent = () => {\n\n    const props = {\n      formState,\n      formApi\n    };\n\n    if (component) {\n      return React.createElement(component, props, children);\n    }\n    if (render) {\n      return render(props);\n    }\n    if (typeof children === 'function') {\n      return children(props);\n    }\n    return children;\n  };\n\n  const getWrappedContent = () => {\n    const content = getContent();\n\n    if (isReactNative && React.Children.count(content) > 1) {\n      return (\n        <React.Fragment>\n          {content}\n        </React.Fragment>\n      );\n    }\n\n    if (isReactNative) {\n      return content;\n    }\n\n    return (\n      <form\n        {...rest}\n        onReset={formController.reset}\n        onSubmit={formController.submitForm}\n        onKeyDown={formController.keyDown}>\n        {getContent()}\n      </form>\n    );\n  };\n\n  /* --- Create Provider and render Content --- */\n  return (\n    <FormRegisterContext.Provider value={formController.updater}>\n      <FormApiContext.Provider value={formApi}>\n        <FormStateContext.Provider value={formState}>\n          {getWrappedContent()}\n        </FormStateContext.Provider>\n      </FormApiContext.Provider>\n    </FormRegisterContext.Provider>\n  );\n  \n};\n\nexport default Form;\n","import React, { useContext } from 'react';\nimport { FormApiContext } from '../Context';\n\nfunction useFormApi() {\n  const formApi = useContext(FormApiContext);\n  return formApi;\n}\n\nexport default useFormApi;\n","import React, { useContext } from 'react';\nimport { FormStateContext } from '../Context';\n\nfunction useFormState() {\n  const formState = useContext(FormStateContext);\n  return formState;\n}\n\nexport default useFormState;\n","import React, { useContext, useMemo } from 'react';\nimport { FormRegisterContext, FormStateContext, FormApiContext } from '../Context';\nimport useFormApi from '../hooks/useFormApi';\nimport useFormState from '../hooks/useFormState';\n\nconst buildScopedFormApi = ( scope, formApi ) => {\n  return {\n    ...formApi,\n    getValue: field => formApi.getValue(`${scope}.${field}`),\n    getTouched: field => formApi.getTouched(`${scope}.${field}`),\n    getError: field => formApi.getError(`${scope}.${field}`),\n    setValue: (field, value) => formApi.setValue(`${scope}.${field}`, value),\n    setTouched: (field, value) => formApi.setTouched(`${scope}.${field}`, value),\n    setError: (field, value) => formApi.setError(`${scope}.${field}`, value),\n    getFullField: field => `${formApi.getFullField(scope)}.${field}`\n  }; \n};\n\nconst buildScopedRegister = ( scope, formRegister ) => {\n\n  const { register, deregister, setValue, setTouched, setError, update, getField } = formRegister;\n\n  return {\n    register: ( field, ...args ) => register(`${scope}.${field}`, ...args),\n    deregister: ( field, ...args ) => deregister(`${scope}.${field}`, ...args),\n    update: ( field, ...args ) => update(`${scope}.${field}`, ...args),\n    setValue: ( field, ...args ) => setValue(`${scope}.${field}`, ...args),\n    setTouched: ( field, ...args ) => setTouched(`${scope}.${field}`, ...args),\n    setError: ( field, ...args ) => setError(`${scope}.${field}`, ...args),\n    getField: ( field, ...args ) => getField(`${scope}.${field}`, ...args),\n  }; \n};\n\nconst Scope = ({scope, children}) => {\n\n  const formRegister = useContext(FormRegisterContext);\n  const formApi = useFormApi();\n  const formState = useFormState();\n\n  // VERY important to memoize the builders!\n  const scopedFormApi = useMemo(() => buildScopedFormApi(scope, formApi), [scope]);\n  const scopedRegister = useMemo(() => buildScopedRegister(scope, formRegister), [scope]);\n\n  return (\n    <FormRegisterContext.Provider value={scopedRegister}>\n      <FormApiContext.Provider value={scopedFormApi}>\n        <FormStateContext.Provider value={formState}>\n          {children}\n        </FormStateContext.Provider>\n      </FormApiContext.Provider>\n    </FormRegisterContext.Provider>\n  );\n\n};\n\nexport default Scope;\n","import React, { useState } from 'react';\nimport useFormApi from '../hooks/useFormApi';\n\n// https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\nconst uuidv4 = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n\nconst ArrayField = ({ field, children, initialValue }) => {\n\n  const formApi = useFormApi();\n\n  const initialValues = formApi.getInitialValue(field) || initialValue;\n\n  // TODO throw error if initial value and its not array\n\n  const initialKeys = initialValues ? initialValues.map(() => uuidv4()) : [];\n\n  const [keys, setKeys] = useState(initialKeys);\n\n  const remove = i => {\n    const newKeys = keys.slice(0, i).concat(keys.slice(i + 1, keys.length));\n    setKeys(newKeys);\n  };\n\n  const add = () => {\n    keys.push(uuidv4());\n    setKeys([...keys]);\n  };\n\n  const fields = keys.map((key, i) => ({\n    key,\n    field: `${field}[${i}]`,\n    remove: () => remove(i),\n    initialValue: initialValues && initialValues[i]\n  }));\n\n  return children({ fields, add });\n};\n\nexport default ArrayField;\n","import React from 'react';\nimport { FormStateContext, FormApiContext, FormRegisterContext } from '../Context';\nimport Debug from '../debug';\nimport useForm from '../hooks/useForm';\nimport isReactNative from '../utils/isReactNative';\n\nconst debug = Debug('informed:FormProvider' + '\\t\\t');\n\nconst FormProvider = ({ \n  children, \n  getApi, \n  onChange, \n  onSubmit, \n  onValueChange, \n  initialValues,\n  onSubmitFailure,\n  validate,\n  validateFields,\n  preventEnter,\n  dontPreventDefault,\n  allowEmptyStrings,\n  ...rest }) => {\n\n  debug('Render FormProvider');\n\n  const { \n    formApi, \n    formController,\n    formState \n  } = useForm({\n    dontPreventDefault,\n    initialValues,\n    validate,\n    validateFields,\n    allowEmptyStrings,\n    preventEnter,\n    getApi,\n    onChange,\n    onSubmit,\n    onValueChange, \n    onSubmitFailure\n  });\n\n  const getWrappedChildren = () => {\n    if (isReactNative && React.Children.count(children) > 1) {\n      return (\n        <React.Fragment>\n          {children}\n        </React.Fragment>\n      );\n    }\n\n    if (isReactNative) {\n      return children;\n    }\n\n    return (\n      <form\n        {...rest}\n        onReset={formController.reset}\n        onSubmit={formController.submitForm}\n        onKeyDown={formController.keyDown}>\n        {children}\n      </form>\n    );\n  };\n\n  /* --- Create Provider and render Content --- */\n  return (\n    <FormRegisterContext.Provider value={formController.updater}>\n      <FormApiContext.Provider value={formApi}>\n        <FormStateContext.Provider value={formState}>\n          {getWrappedChildren()}\n        </FormStateContext.Provider>\n      </FormApiContext.Provider>\n    </FormRegisterContext.Provider>\n  );\n  \n};\n\nexport default FormProvider;\n","import React from 'react';\nimport { FormApiContext } from '../Context';\n\nconst withFormApi = Component =>\n  React.forwardRef((props, ref) => (\n    <FormApiContext.Consumer>\n      {(formApi) => <Component formApi={formApi} ref={ref} {...props} />}\n    </FormApiContext.Consumer>\n  ));\n\nexport default withFormApi;\n","import React from 'react';\nimport { FormStateContext } from '../Context';\n\nconst withFormState = Component =>\n  React.forwardRef((props, ref) => (\n    <FormStateContext.Consumer>\n      {(formState) => (\n        <Component formState={formState} ref={ref} {...props} />\n      )}\n    </FormStateContext.Consumer>\n  ));\n\nexport default withFormState;\n","import React, { useMemo, useContext } from 'react';\nimport useFormApi from './useFormApi';\nimport { FormRegisterContext } from '../Context';\n\nconst buildFieldApi = (formApi, field, updater) => {\n\n  const fieldApi =  updater.getField(field).fieldApi;\n\n  return { \n    // TODO refactor to use field api from updater.. need to make sure this \n    // will be stable\n    getValue: () => formApi.getValue(field),\n    setValue: value => formApi.setValue(field, value),\n    getTouched: () => formApi.getTouched(field),\n    setTouched: value => formApi.setTouched(field, value),\n    getError: () => formApi.getError(field),\n    setError: value => formApi.setError(field, value),\n    reset: fieldApi.reset,\n    validate: fieldApi.validate\n  };\n};\n\nfunction useFieldApi( field ) {\n  const formApi = useFormApi();\n\n  const updater = useContext(FormRegisterContext);\n\n  const fieldApi = useMemo( () => buildFieldApi( formApi, field, updater ), [field] );\n  return fieldApi;\n}\n\nexport default useFieldApi;\n","import React from 'react';\nimport useFieldApi from './useFieldApi';\nimport useFormState from './useFormState';\n\nconst buildFieldState = (fieldApi) => {\n  return {\n    value: fieldApi.getValue(),\n    touched: fieldApi.getTouched(),\n    error: fieldApi.getError(),\n  };\n};\n\nfunction useFieldState( field ) {\n  const fieldApi = useFieldApi(field);\n  // TODO find better way to get this to rerender\n  const formState = useFormState();\n  // The above is a temp hack\n  const fieldState = buildFieldState(fieldApi);\n  return fieldState;\n}\n\nexport default useFieldState;\n","import React from 'react';\nimport useFieldState from '../hooks/useFieldState';\n\nconst withFieldState = field => Component => props => {\n  const fieldState = useFieldState(field);\n  return <Component fieldState={fieldState} {...props} />;\n};\n\nexport default withFieldState;","import React from 'react';\nimport useFieldApi from '../hooks/useFieldApi';\n\nconst withFieldApi = field => Component => (props) => {\n  const fieldApi = useFieldApi( field );\n  return <Component fieldApi={fieldApi} {...props} />;\n};\n\nexport default withFieldApi;\n","import React from 'react';\nimport { GroupContext } from '../Context';\n\nconst withRadioGroup = Component =>\n  React.forwardRef((props, ref) => (\n    <GroupContext.Consumer>\n      {({ radioGroupApi, radioGroupState }) => (\n        <Component\n          radioGroupApi={radioGroupApi}\n          radioGroupState={radioGroupState}\n          ref={ref}\n          {...props}\n        />\n      )}\n    </GroupContext.Consumer>\n  ));\n\nexport default withRadioGroup;\n","import React, { useState, useLayoutEffect, useEffect, useContext, useMemo, useRef } from 'react';\nimport { FormRegisterContext } from '../Context';\nimport useFormApi from './useFormApi';\nimport Debug from '../debug';\nconst logger = Debug('informed:useField'+ '\\t');\n\n// TODO figure out if this is bad? \n// https://github.com/facebook/react/issues/14543\nfunction useStateWithGetter(initial) {\n  const ref = useRef();\n  const [state, setState] = useState(initial);\n  ref.current = state;\n  const set = (value) => {\n    ref.current = value;\n    setState(value);\n  };\n  const get = () => {\n    return ref.current;\n  };\n  return [state, set, get];\n}\n\nfunction useField(field, fieldProps = {}) {\n  // Pull props off of field props\n  const { \n    validate,\n    mask,\n    format,\n    parse,\n    initialValue,\n    validateOnChange,\n    validateOnBlur,\n    validateOnMount,\n    maskOnBlur,\n    allowEmptyString,\n    onValueChange,\n    notify,\n    keepState, \n    maintainCursor,\n    debug, \n    type\n  } = fieldProps;\n\n  // Grab the form register context\n  const updater = useContext(FormRegisterContext);\n\n  // Grab the form state\n  const formApi = useFormApi();\n\n  // Initialize state \n  const [value, setVal, getVal] = useStateWithGetter(initialValue != null ? initialValue : undefined);\n  const [error, setErr] = useState( validateOnMount ? validate(initialValue) : undefined );\n  const [touched, setTouch] = useState();\n  const [cursor, setCursor, getCursor] = useStateWithGetter(0);\n  const [maskedValue, setMaskedValue ] = useState(value);\n\n  /* ---------------------- Setters ---------------------- */\n\n  // Define set error\n  const setError = (val) => { \n    setErr(val);\n    updater.setError(field, val);\n  };\n\n  // Define set value\n  const setValue = (val, e, options = {}) => {\n    logger(`Setting ${field} to ${val}`);\n    // Initialize maked value\n    let maskedVal = val;\n    // Set value to undefined if its an empty string\n\n    if( val === '' && !allowEmptyString && !options.allowEmptyString){\n      val = undefined;\n    }\n    // Turn string into number for number fields\n    if(type === 'number' && val !== undefined ){\n      val = +val;\n    }\n    // Call mask if it was passed\n    if(mask && !maskOnBlur){\n      maskedVal = mask(val);\n      val = mask(val);\n    }\n    // Call format and parse if they were passed\n    if(format && parse){\n      val = parse(val);\n      maskedVal = format(val);\n    }\n    // We only need to call validate if the user gave us one\n    // and they want us to validate on change\n    if (validate && validateOnChange) {\n      logger(`Validating after change ${field} ${val}`);\n      setError(validate(val, formApi.getValues()));\n    }\n    // Remember Cursor position!\n    if(e && e.target && e.target.selectionStart ){\n      setCursor(e.target.selectionStart);\n    }\n\n    // Now we update the value\n    setVal(val);\n    setMaskedValue(maskedVal);\n    // If the user passed in onValueChange then call it!\n    if( onValueChange ){\n      onValueChange(val);\n    }    \n    // Call the updater\n    updater.setValue(field, val);\n  };\n\n  // Define set touched\n  const setTouched = ( val, reset ) => {\n    // We only need to call validate if the user gave us one\n    // and they want us to validate on blur\n    if (validate && validateOnBlur && !reset ) {\n      logger(`Validating after blur ${field} ${getVal()}`);\n      setError(validate(getVal(), formApi.getValues()));\n    }\n    // Call mask if it was passed\n    if(mask && maskOnBlur){\n      const maskedVal = mask( getVal() );\n      // Now we update the value\n      setVal(maskedVal);\n      setMaskedValue(maskedVal);\n      // If the user passed in onValueChange then call it!\n      if( onValueChange ){\n        onValueChange(maskedVal);\n      }    \n      // Call the updater\n      updater.setValue(field, maskedVal);\n    }\n    setTouch(val);\n    updater.setTouched(field, val);\n  };\n\n  // Define reset\n  const reset = () => {\n    // TODO support numbers\n    setValue(initialValue != null ? initialValue : undefined);\n    // Setting somthing to undefined will remove it \n    setError(validateOnMount ? validate(initialValue) : undefined);\n    setTouched(undefined, true);\n  };\n\n  // Define validate\n  const fieldValidate = (val) => {\n    if( validate ){\n      logger(`Field validating ${field} ${val}`);\n      setError(validate(val, formApi.getValues()));\n    }\n  };\n\n  /* ----------------- Field Api && State ----------------- */\n\n  // Build the field api\n  const fieldApi = {\n    setValue,\n    setTouched,\n    setError,\n    reset, \n    validate: fieldValidate\n  };\n\n  // Build the field state\n  const fieldState = {\n    value,\n    error,\n    touched,\n    maskedValue\n  };\n\n\n  // Initial register needs to happen before render ( simulating constructor muhahahah )\n  useState(()=> {\n    const fullField = formApi.getFullField(field);\n    logger('Initial Register', fullField);\n    updater.register(field, fieldState, { field: fullField, fieldApi, fieldState, notify, keepState });\n  });\n\n  logger('Render', formApi.getFullField(field), fieldState);\n\n  const ref = useRef(null);\n\n  // We want to register and deregister this field when field name changes\n  useEffect(\n    () => {\n      const fullField = formApi.getFullField(field);\n      logger('Register', fullField);\n      updater.register(field, fieldState, { field: fullField, fieldApi, fieldState, notify, keepState });\n\n      return () => {\n        logger('Deregister', fullField);\n        updater.deregister(field);\n      };\n    },\n    // This is VERYYYY!! Important!\n    [field]\n  );\n\n  // We want to let the controller know of changes on this field when specific props change\n  useEffect(\n    () => {\n      const fullField = formApi.getFullField(field);\n      logger('Update', field);\n      updater.update(field, { field: fullField, fieldApi, fieldState, notify, keepState });\n    },\n    // This is VERYYYY!! Important!\n    [validate, validateOnChange, validateOnBlur, onValueChange]\n  );\n\n  // Maintain cursor position\n  useLayoutEffect(\n    () => {\n      if ( maintainCursor && ref.current != null && getCursor()) ref.current.selectionEnd = getCursor();\n    },\n    [value]\n  );\n\n  // for debugging\n  useLayoutEffect(\n    () => {\n      if (debug && ref) {\n        ref.current.style.border = '5px solid orange';\n        setTimeout(() => {\n          ref.current.style.borderWidth ='2px';\n          ref.current.style.borderStyle = 'inset';\n          ref.current.style.borderColor = 'initial';\n          ref.current.style.borderImage = 'initial';\n        }, 500);\n      }\n    }\n  );\n\n  // This is an awesome optimization!!\n  const shouldUpdate = [ ...Object.values(fieldState), ...Object.values(fieldProps), field ];\n\n  const purify = (children, userprops = []) => useMemo(() => children, [ ...shouldUpdate, ...userprops]);\n\n  return { fieldState, fieldApi, purify, ref };\n\n}\n\nexport default useField;\n","import React from 'react';\nimport useField from '../hooks/useField';\n\nconst asField = Component => props => {\n  const { \n    field, \n    validate, \n    initialValue, \n    validateOnChange, \n    validateOnBlur,\n    validateOnMount,\n    maskOnBlur,\n    allowEmptyString,\n    onValueChange,\n    notify,\n    keepState,\n    maintainCursor,\n    debug,\n    type,\n    mask,\n    format,\n    parse,\n    ...rest } = props;\n  const fieldProps = {\n    validate,\n    initialValue, \n    validateOnChange, \n    validateOnBlur,\n    onValueChange,\n    validateOnMount,\n    maskOnBlur,\n    allowEmptyString,\n    notify,\n    keepState,\n    maintainCursor,\n    debug,\n    type,\n    mask,\n    format,\n    parse\n  };\n\n  const { fieldState, fieldApi, purify, ref } = useField(field, fieldProps);\n   \n  return purify(\n    <Component\n      fieldApi={fieldApi}\n      fieldState={fieldState}\n      field={field}\n      forwardedRef={ref}\n      debug={debug}\n      type={type}\n      {...rest}\n    />, \n    Object.values(rest)\n  );\n};\n\nexport default asField;\n","import React, {useLayoutEffect} from 'react';\nimport asField from '../../HOC/asField';\nimport Debug from '../../debug';\nconst logger = Debug('informed:Text' + '\\t');\n\nconst Text = ({ fieldApi, fieldState, ...props }) => {\n  const { maskedValue } = fieldState;\n  const { setValue, setTouched } = fieldApi;\n  const {\n    onChange,\n    onBlur,\n    field,\n    initialValue,\n    forwardedRef,\n    debug,\n    ...rest\n  } = props;\n\n  logger('Render', field);\n\n  // for debugging\n  useLayoutEffect(\n    () => {\n      if (debug && forwardedRef) {\n        forwardedRef.current.style.background = 'red';\n        setTimeout(() => {\n          forwardedRef.current.style.background = 'white';\n        }, 500);\n      }\n    }\n  );\n\n  return (\n    <input\n      {...rest}\n      name={field}\n      ref={forwardedRef}\n      value={!maskedValue && maskedValue !== 0 ? '' : maskedValue}\n      onChange={e => {\n        setValue(e.target.value, e );\n        if (onChange) {\n          onChange(e);\n        }\n      }}\n      onBlur={e => {\n        setTouched(true);\n        if (onBlur) {\n          onBlur(e);\n        }\n      }}\n    />\n  );\n};\n\nexport { Text as BasicText };\n\nexport default asField(Text);\n","import React from 'react';\nimport withRadioGroup from '../../HOC/withRadioGroup';\n\nconst Radio = ({ radioGroupApi, radioGroupState, ...props }) => {\n  const { value: groupValue } = radioGroupState;\n  const {\n    setValue,\n    setTouched,\n    onChange: groupOnChange,\n    onBlur: groupOnBlur\n  } = radioGroupApi;\n  const {\n    value,\n    onChange,\n    onBlur,\n    field,\n    initialValue,\n    forwardedRef,\n    ...rest\n  } = props;\n  return (\n    <input\n      {...rest}\n      name={field}\n      ref={forwardedRef}\n      value={value}\n      checked={groupValue === value}\n      onChange={e => {\n        if (!e.target.checked) {\n          return;\n        }\n        setValue(value);\n        if (onChange) {\n          onChange(e);\n        }\n        if (groupOnChange) {\n          groupOnChange(e);\n        }\n      }}\n      onBlur={e => {\n        setTouched(true);\n        if (onBlur) {\n          onBlur(e);\n        }\n        if (groupOnBlur) {\n          groupOnBlur(e);\n        }\n      }}\n      type=\"radio\"\n    />\n  );\n};\n\nexport { Radio as BasicRadio };\n\nexport default withRadioGroup(Radio);\n","import React, { useLayoutEffect } from 'react';\nimport asField from '../../HOC/asField';\n\nconst TextArea = ({ fieldApi, fieldState, ...props }) => {\n  const { maskedValue } = fieldState;\n  const { setValue, setTouched } = fieldApi;\n  const {\n    onChange,\n    onBlur,\n    field,\n    initialValue,\n    forwardedRef,\n    debug,\n    ...rest\n  } = props;\n\n\n  // for debugging\n  useLayoutEffect(\n    () => {\n      if (debug && forwardedRef) {\n        forwardedRef.current.style.background = 'red';\n        setTimeout(() => {\n          forwardedRef.current.style.background = 'white';\n        }, 500);\n      }\n    }\n  );\n\n  return (\n    <textarea\n      {...rest}\n      name={field}\n      ref={forwardedRef}\n      value={!maskedValue ? '' : maskedValue}\n      onChange={e => {\n        setValue(e.target.value, e);\n        if (onChange) {\n          onChange(e);\n        }\n      }}\n      onBlur={e => {\n        setTouched(true);\n        if (onBlur) {\n          onBlur(e);\n        }\n      }}\n    />\n  );\n};\n\nexport { TextArea as BasicTextArea };\n\nexport default asField(TextArea);\n","import React, { useLayoutEffect } from 'react';\nimport asField from '../../HOC/asField';\n\nclass Select extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.selectRef = React.createRef();\n  }\n\n  handleChange(e) {\n    let selected = [...(this.props.forwardedRef || this.selectRef).current]\n      .filter(option => option.selected)\n      .map(option => option.value);\n\n    this.props.fieldApi.setValue(\n      this.props.multiple ? selected : selected[0] || ''\n    );\n\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  }\n\n  // for debugging\n  componentDidUpdate(){\n    if (this.props.debug && this.props.forwardedRef) {\n      this.props.forwardedRef.current.style.background = 'red';\n      setTimeout(() => {\n        this.props.forwardedRef.current.style.background = 'white';\n      }, 500);\n    }\n  }\n\n  render() {\n    const { fieldApi, fieldState, ...props } = this.props;\n    const { value } = fieldState;\n    const { setValue, setTouched } = fieldApi;\n    const {\n      onChange,\n      onBlur,\n      field,\n      initialValue,\n      forwardedRef,\n      debug,\n      children,\n      multiple,\n      ...rest\n    } = props;\n\n    return (\n      <select\n        {...rest}\n        multiple={multiple}\n        name={field}\n        ref={forwardedRef || this.selectRef}\n        value={value || (multiple ? [] : '')}\n        onChange={this.handleChange}\n        onBlur={e => {\n          setTouched(true);\n          if (onBlur) {\n            onBlur(e);\n          }\n        }}>\n        {children}\n      </select>\n    );\n  }\n}\n\nexport { Select as BasicSelect };\n\nexport default asField(Select);\n","import React from 'react';\n\nconst Option = ({ value, forwardedRef, children, ...rest }) => {\n  return (\n    <option ref={forwardedRef} value={value} key={value} {...rest}>\n      {children}\n    </option>\n  );\n};\n\nexport default Option;\n","import React, { useLayoutEffect } from 'react';\nimport asField from '../../HOC/asField';\n\nconst Checkbox = ({ fieldApi, fieldState, ...props }) => {\n  const { value } = fieldState;\n  const { setValue, setTouched } = fieldApi;\n  const {\n    onChange,\n    onBlur,\n    field,\n    initialValue,\n    debug,\n    forwardedRef,\n    ...rest\n  } = props;\n  return (\n    <input\n      {...rest}\n      name={field}\n      ref={forwardedRef}\n      checked={!!value}\n      onChange={e => {\n        setValue(e.target.checked);\n        if (onChange) {\n          onChange(e);\n        }\n      }}\n      onBlur={e => {\n        setTouched(true);\n        if (onBlur) {\n          onBlur(e);\n        }\n      }}\n      type=\"checkbox\"\n    />\n  );\n};\n\nexport { Checkbox as BasicCheckbox };\n\nexport default asField(Checkbox);\n","import React, { Component } from 'react';\nimport { GroupContext } from '../../Context';\n\nimport asField from '../../HOC/asField';\n\nclass RadioGroup extends Component {\n  get groupContext() {\n    return {\n      radioGroupApi: {\n        ...this.props.fieldApi,\n        onChange: this.props.onChange,\n        onBlur: this.props.onBlur\n      },\n      radioGroupState: this.props.fieldState\n    };\n  }\n\n  render() {\n    return (\n      <GroupContext.Provider value={this.groupContext}>\n        {this.props.children}\n      </GroupContext.Provider>\n    );\n  }\n}\n\nexport { RadioGroup as BasicRadioGroup };\n\nexport default asField(RadioGroup);\n","import Form from './components/Form';\nimport Scope from './components/Scope';\nimport ArrayField from './components/ArrayField';\nimport FormProvider from './components/FormProvider';\n\nimport withFormApi from './HOC/withFormApi';\nimport withFormState from './HOC/withFormState';\nimport withFieldState from './HOC/withFieldState';\nimport withFieldApi from './HOC/withFieldApi';\nimport withRadioGroup from './HOC/withRadioGroup';\nimport asField from './HOC/asField';\n\nimport useForm from './hooks/useForm';\nimport useField from './hooks/useField';\nimport useFieldApi from './hooks/useFieldApi';\nimport useFieldState from './hooks/useFieldState';\nimport useFormApi from './hooks/useFormApi';\nimport useFormState from './hooks/useFormState';\n\nimport Text from './components/form-fields/Text';\nimport Radio from './components/form-fields/Radio';\nimport TextArea from './components/form-fields/TextArea';\nimport Select from './components/form-fields/Select';\nimport Option from './components/form-fields/Option';\nimport Checkbox from './components/form-fields/Checkbox';\nimport RadioGroup from './components/form-fields/RadioGroup';\n\nimport { BasicText } from './components/form-fields/Text';\nimport { BasicRadio } from './components/form-fields/Radio';\nimport { BasicRadioGroup } from './components/form-fields/RadioGroup';\nimport { BasicTextArea } from './components/form-fields/TextArea';\nimport { BasicSelect } from './components/form-fields/Select';\nimport { BasicCheckbox } from './components/form-fields/Checkbox';\n\nexport {\n  Form,\n  FormProvider,\n  withFormApi,\n  withFormState,\n  withFieldApi,\n  withFieldState,\n  withRadioGroup,\n  asField,\n  useForm, \n  useField,\n  useFieldApi,\n  useFieldState,\n  useFormApi,\n  useFormState,\n  Text,\n  Radio,\n  TextArea,\n  Select,\n  Option,\n  Checkbox,\n  RadioGroup,\n  BasicText,\n  BasicRadio,\n  BasicRadioGroup,\n  BasicTextArea,\n  BasicSelect,\n  BasicCheckbox,\n  Scope,\n  ArrayField\n};\n","module.exports = require(\"events\");","module.exports = require(\"lodash/get\");","module.exports = require(\"lodash/has\");","module.exports = require(\"lodash/pull\");","module.exports = require(\"lodash/pullAt\");","module.exports = require(\"lodash/setWith\");","module.exports = require(\"lodash/toPath\");","module.exports = require(\"lodash/unset\");","module.exports = require(\"lodash/values\");","module.exports = require(\"react\");"],"sourceRoot":""}